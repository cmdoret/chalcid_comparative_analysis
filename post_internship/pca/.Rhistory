library(ggplot2);library("FactoMineR"); library(factoextra)
data0 <- read.csv("~/Documents/Internship/Data/R_working_directory/auto/auto_processed_data.csv", header=T)
citat <-read.csv("~/Dropbox/Cyril-Casper_shared/Internship_tidy/Data/auto/auto_citations_per_species.csv", header=T)
data <- merge(x=data0, y=citat, by.x=c("family","genus","species"), by.y=c("family","genus","species"), all=F)
data <- data[!data$nbr_country =="0",] #remove species with no countries described
data <- data[!data$host_spp =="0",] # remove species with no hosts described
cut_data <- data[data$ref>4,] # remove species very few studies
data<-cut_data
data$max_dist_eq <- pmax(abs(data$lat_min),abs(data$lat_max))
data$min_dist_eq <- pmin(abs(data$lat_min),abs(data$lat_max))
res.pca <- PCA(data[,4:15], graph = FALSE)
fviz_screeplot(res.pca, ncp=10)
fviz_pca_var(res.pca)
fviz_pca_var(res.pca, col.var="cos2") +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=0.5) + theme_minimal()
fviz_pca_contrib(res.pca, choice = "var", axes = 1)
fviz_pca_contrib(res.pca, choice = "var", axes = 2)
fviz_pca_var(res.pca, col.var="cos2") +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=0.5) + theme_minimal()
res.pca <- PCA(data[,4:15], graph = FALSE)
fviz_screeplot(res.pca, ncp=10)
fviz_pca_var(res.pca)
fviz_screeplot(res.pca, ncp=10)
barplot(weight[,7])
fviz_pca_contrib(res.pca, choice = "var", axes = 1:2)
fviz_pca_var(res.pca, col.var="cos2") +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=0.5) + theme_minimal()
fviz_pca_var(res.pca, col.var="contrib")
fviz_pca_var(res.pca, col.var="contrib") +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=50) + theme_minimal()
fviz_pca_var(res.pca, col.var="contrib") +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=50) + theme_minimal()
fviz_pca_var(res.pca, col.var="cos2") +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=0.5) + theme_minimal()
fviz_pca_var(res.pca, col.var="contrib") +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=50) + theme_minimal()
fviz_pca_var(res.pca, col.var="contrib") +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=8) + theme_minimal()
fviz_pca_var(res.pca, col.var="cos2") +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=0.5) + theme_minimal()
dimdesc(res, axes = 1:3, proba = 0.05)
dimdesc(res.pca, axes = 1:3, proba = 0.05)
fviz_pca_ind(res.pca, col.ind="cos2") +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=0.50) + theme_minimal()
fviz_pca_ind(res.pca, col.ind="cos2",habillage = data$mode) +
scale_color_gradient2(low="white", mid="blue",
high="red", midpoint=0.50) + theme_minimal()
fviz_pca_ind(res.pca,habillage = data$mode) +
)
fviz_pca_ind(res.pca,habillage = data$mode)
head(res.pca$ind$contrib)
fviz_pca_contrib(res.pca, choice = "ind", axes = 1)
fviz_pca_contrib(res.pca, choice = "ind", axes = 1,color=data$mode)
fviz_pca_contrib(res.pca, choice = "ind", axes = 2,color=data$mode)
fviz_pca_contrib(res.pca, choice = "ind", axes = 3,color=data$mode)
fviz_pca_contrib(res.pca, choice = "ind", axes = 4,color=data$mode)
fviz_pca_contrib(res.pca, choice = "ind", axes = 5,color=data$mode)
fviz_pca_contrib(res.pca, choice = "ind", axes = 6,color=data$mode)
fviz_pca_contrib(res.pca, choice = "ind", axes = 7,color=data$mode)
fviz_pca_contrib(res.pca, choice = "ind", axes = 2,color=data$mode)
fviz_pca_contrib(res.pca, choice = "ind", axes = 1,color=data$mode)
fviz_pca_ind(res.pca,habillage = data$mode)
fviz_pca_ind(res.pca,habillage = data$genus)
fviz_pca_ind(res.pca,habillage = data$family)
fviz_pca_ind(res.pca,habillage = data$family,geom="points")
fviz_pca_ind(res.pca,habillage = data$family,geom="text")
fviz_pca_ind(res.pca,habillage = data$family,geom="point")
warnings()
fviz_pca_ind(res.pca,habillage = data$genus,geom="point")
fviz_pca_ind(res.pca,habillage = data$genus,geom="point",pch=1)
fviz_pca_ind(res.pca,habillage = data$genus,geom="point",pch=1)+legend(fill=F,col=T)
fviz_pca_ind(res.pca,habillage = data$genus,geom="point",pch=1)+theme(fill=F,col=T)
fviz_pca_ind(res.pca,habillage = data$genus,geom="point",pch=1)+theme(legend=col)
fviz_pca_ind(res.pca,habillage = data$genus,geom="point",pch=1)
fviz_pca_ind(res.pca,col = data$genus,geom="point",pch=1)
fviz_pca_ind(res.pca,col = data$genus,geom="point")
fviz_pca_ind(res.pca,col = data$mode,geom="point")
fviz_pca_ind(res.pca,color = data$mode,geom="point")
fviz_pca_ind(res.pca,colour = data$mode,geom="point")
fviz_pca_ind(res.pca,fill = data$mode,geom="point")
fviz_pca_ind(res.pca,ind.col = data$mode,geom="point")
fviz_pca_ind(res.pca,col.ind  = data$mode,geom="point")
fviz_pca_ind(res.pca,col.ind = cos2,geom="point")
fviz_pca_ind(res.pca,col.ind = 'cos2',geom="point")
fviz_pca_ind(res.pca,col.ind = 'contrib',geom="point")
fviz_pca_ind(res.pca,col.ind = 'contrib',label=data$species,geom="point")
fviz_pca_ind(res.pca,col.ind = 'contrib',lab=data$species,geom="point")
fviz_pca_ind(res.pca,col.ind = 'contrib',label=data$species)
fviz_pca_ind(res.pca,habillage=data$genus,geom="point")
fviz_pca_ind(res.pca,habillage=data$genus,geom="point",pch=1)
fviz_pca_ind(res.pca,habillage=data$genus,geom="point",pch=1,legend=F)
fviz_pca_ind(res.pca,habillage=data$genus,geom="point",pch=1)
fviz_pca_ind(res.pca,habillage=data$genus,geom="point",pch=3)
warnings()
fviz_pca_ind(res.pca,habillage=data$genus,geom="point",pch=1)
fviz_pca_ind(res.pca,habillage=data$family,geom="point",pch=1)
fviz_pca_ind(res.pca,habillage=data$family,geom="point")
fviz_pca_ind(res.pca,habillage = data$mode)
pairs(res.pca)
res.pca
pairs(res.pca$ind)
pairs(res.pca$ind,col=data$mode)
head(res.pca)
str(res.pca)
pairs(res.pca$ind$coord,col=data$mode)
fviz_pca_ind(res.pca,axes=c(2,4),habillage=data$family,geom="point")
fviz_pca_ind(res.pca,axes=c(2,4),habillage = data$mode)
fviz_pca_contrib(res.pca, choice = "var", axes = 2)
